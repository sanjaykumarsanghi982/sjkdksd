(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{7891:function(e,r,s){Promise.resolve().then(s.bind(s,227))},227:function(e,r,s){"use strict";s.d(r,{default:function(){return u}});var a=s(7437),t=s(2265),l=s(3224);function n(e){let{data:r,updateData:s,next:n}=e,[i,d]=(0,t.useState)({}),m=()=>{let e={};return r.state||(e.state="State is required"),r.regNumber||(e.regNumber="Registration number is required"),r.chassisNumber?/^\d{5}$/.test(r.chassisNumber)||(e.chassisNumber="Chassis number must be exactly 5 digits"):e.chassisNumber="Chassis number is required",r.engineNumber?/^\d{5}$/.test(r.engineNumber)||(e.engineNumber="Engine number must be exactly 5 digits"):e.engineNumber="Engine number is required",r.vehicleType||(e.vehicleType="Vehicle type is required"),d(e),0===Object.keys(e).length},o=e=>{let{name:r,value:a}=e.target;"regNumber"===r&&(a=a.toUpperCase()),("chassisNumber"===r||"engineNumber"===r)&&(a=a.replace(/\D/g,"").slice(0,5)),s({[r]:a}),d(e=>({...e,[r]:""}))};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-5 text-gray-800",children:"Vehicle Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-0 gap-x-0 sm:gap-y-4 sm:gap-x-8",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"",className:"mb-2 text-gray-900 block font-semibold",children:"State*"}),(0,a.jsxs)("select",{name:"state",value:r.state,onChange:o,className:"border w-full py-[14px] px-2 cursor-pointer rounded-lg ".concat(i.state?"border-red-600":r.state?"border-green-700":"border-gray-400"),children:[(0,a.jsx)("option",{value:"",children:"Select Vehicle Registration State"}),l.co.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),i.state&&(0,a.jsx)("p",{className:"text-red-600 text-sm mb-0",children:i.state})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"",className:"mb-2 text-gray-900 block font-semibold",children:"Registration Number*"}),(0,a.jsx)("input",{type:"text",name:"regNumber",placeholder:"Enter Vehicle Registration Number",value:r.regNumber,onChange:o,className:"border py-[14px] px-2 w-full rounded-lg ".concat(i.regNumber?"border-red-600":r.regNumber?"border-green-700":"border-gray-400")}),i.regNumber&&(0,a.jsx)("p",{className:"text-red-600 text-sm mb-0",children:i.regNumber})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"",className:"mb-2 text-gray-900 block font-semibold",children:"Chassis Number*(XXXXX12345)"}),(0,a.jsx)("input",{type:"text",name:"chassisNumber",placeholder:"Chassis Number",maxLength:5,value:r.chassisNumber,onChange:o,className:"border py-[14px] px-2 w-full rounded-lg ".concat(i.chassisNumber?"border-red-600":r.chassisNumber?"border-green-700":"border-gray-400")}),i.chassisNumber&&(0,a.jsx)("p",{className:"text-red-600 text-sm mb-0",children:i.chassisNumber})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"",className:"mb-2 text-gray-900 block font-semibold",children:"Engine Number*(XXXXX12345)"}),(0,a.jsx)("input",{type:"text",name:"engineNumber",maxLength:5,placeholder:"Engine Number",value:r.engineNumber,onChange:o,className:"border py-[14px] px-2 w-full rounded-lg ".concat(i.engineNumber?"border-red-600":r.engineNumber?"border-green-700":"border-gray-400")}),i.engineNumber&&(0,a.jsx)("p",{className:"text-red-600 text-sm mb-0",children:i.engineNumber})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"",className:"mb-2 text-gray-900 block font-semibold",children:"Choose Vehicle*"}),(0,a.jsxs)("select",{name:"vehicleType",value:r.vehicleType,onChange:o,className:"border w-full py-[14px] px-2 cursor-pointer rounded-lg ".concat(i.state?"border-red-600":r.state?"border-green-700":"border-gray-400"),children:[(0,a.jsx)("option",{value:"",children:"Vehicle Type"}),l.Hv.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),i.vehicleType&&(0,a.jsx)("p",{className:"text-red-600 text-sm mb-0",children:i.vehicleType})]})]}),(0,a.jsx)("button",{onClick:()=>{m()&&n()},className:"mt-2 btn btn-primary text-white hover:bg-blue-800 transition-all ease-in-out duration-200",children:"Next"})]})}var i=s(5097);function d(e){let{data:r,updateData:s,next:l,prev:n}=e,[d,m]=(0,t.useState)({}),o=()=>{let e={};return r.name||(e.name="Name is required"),r.phone?/^\d{10}$/.test(r.phone)||(e.phone="Phone number must be exactly 10 digits and numbers only"):e.phone="Phone number is required",r.email?/\S+@\S+\.\S+/.test(r.email)||(e.email="Enter a valid email"):e.email="Email is required",r.address||(e.address="Address is required"),m(e),0===Object.keys(e).length},c=()=>"HSRP-".concat(Math.floor(1e7+9e7*Math.random())),b=e=>{let{name:r,value:a}=e.target;"phone"===r&&(a=a.replace(/\D/g,"")),s({[r]:a}),m(e=>({...e,[r]:""}))};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Fitment Location"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-0 gap-x-0 sm:gap-y-4 sm:gap-x-8",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"",className:"mb-2 text-gray-900 block font-semibold",children:"Name*"}),(0,a.jsx)("input",{type:"text",name:"name",placeholder:"Enter Name",value:r.name,onChange:b,className:"border w-full py-[14px] px-2 rounded-lg ".concat(d.name?"border-red-500":r.name?"border-green-700":"border-gray-300")}),d.name&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:d.name})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"",className:"mb-2 text-gray-900 block font-semibold",children:"Phone*"}),(0,a.jsx)("input",{type:"text",name:"phone",placeholder:"Enter Phone Number",maxLength:10,value:r.phone,onChange:b,className:"border w-full py-[14px] px-2 rounded-lg ".concat(d.phone?"border-red-500":r.phone?"border-green-700":"border-gray-300")}),d.phone&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:d.phone})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"",className:"mb-2 text-gray-900 block font-semibold",children:"Email*"}),(0,a.jsx)("input",{type:"email",name:"email",placeholder:"Enter Email",value:r.email,onChange:b,className:"border w-full py-[14px] px-2 rounded-lg ".concat(d.email?"border-red-500":r.email?"border-green-700":"border-gray-300")}),d.email&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:d.email})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"",className:"mb-2 text-gray-900 block font-semibold",children:"Address*"}),(0,a.jsx)("input",{type:"text",name:"address",placeholder:"Address",value:r.address,onChange:b,className:"border w-full py-[14px] px-2 rounded-lg ".concat(d.address?"border-red-500":r.address?"border-green-700":"border-gray-300")}),d.address&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:d.address})]})]}),(0,a.jsxs)("div",{className:"mt-2 flex gap-4",children:[(0,a.jsxs)("button",{onClick:n,className:"bg-gray-200 flex items-center text-gray-800 px-6 py-2 font-semibold rounded hover:bg-gray-400",children:[(0,a.jsx)(i.O8Q,{className:"mr-2 text-xl"})," Back"]}),(0,a.jsx)("button",{onClick:()=>{o()&&(r.orderId||s({orderId:c()}),l())},className:"btn btn-primary hover:bg-blue-700",children:"Next"})]})]})}var m=s(6463);function o(e){let{data:r,prev:s}=e,[l,n]=(0,t.useState)(!1),d=(0,m.useRouter)();return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Please re-verify your details"}),(0,a.jsx)("table",{className:"w-full border mb-6",children:(0,a.jsx)("tbody",{children:Object.entries(r).map(e=>{let[r,s]=e;return(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"p-2 font-medium capitalize",children:r}),(0,a.jsx)("td",{className:"p-2",children:s})]},r)})})}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("button",{onClick:s,className:"bg-gray-200 flex items-center text-gray-800 px-6 py-2 font-semibold rounded hover:bg-gray-400",children:[(0,a.jsx)(i.O8Q,{className:"mr-2 text-xl"})," Back"]}),(0,a.jsxs)("button",{onClick:()=>{n(!0),setTimeout(()=>{sessionStorage.removeItem("bookingData"),d.push("/make-payment")},1500)},disabled:l,className:"flex items-center justify-center gap-2 btn btn-primary hover:bg-blue-700 disabled:opacity-70",children:[l&&(0,a.jsx)("span",{className:"loader border-t-2 border-white w-4 h-4 rounded-full animate-spin"}),l?"Submitting...":"Proceed to Payment"]})]})]})}var c=s(3872);function b(e){let{currentStep:r,stepsCompleted:s}=e,t=[{id:1,name:"Vehicle Information"},{id:2,name:"Fitment Location"},{id:3,name:"Booking Summary"}];return(0,a.jsx)("aside",{className:"w-full lg:w-[380px] bg-gray-100 p-2 sm:p-6 border-r",children:(0,a.jsx)("ul",{className:"space-y-4 flex sm:block",children:t.map((e,l)=>{let n=r===e.id,i=s[e.id];return(0,a.jsxs)("li",{className:"step-item relative flex items-center justify-between p-4 rounded-md ".concat(n?"bg-primary-color text-white":"bg-gray-300 text-gray-900 border"," ").concat(l!==t.length-1?"with-arrow":""),children:[(0,a.jsx)("span",{children:e.name}),i&&(0,a.jsx)(c.ETl,{className:"w-5 h-5 text-green-700"})]},e.id)})})})}function u(){let[e,r]=(0,t.useState)(1),[s,l]=(0,t.useState)({state:"",regNumber:"",chassisNumber:"",engineNumber:"",vehicleType:"",name:"",phone:"",email:"",address:"",orderId:""});(0,t.useEffect)(()=>{let e=sessionStorage.getItem("bookingData");e&&l(JSON.parse(e))},[]),(0,t.useEffect)(()=>{sessionStorage.setItem("bookingData",JSON.stringify(s))},[s]);let i=e=>{l(r=>({...r,...e}))},m=()=>r(e=>e+1),c=()=>r(e=>e-1),u={1:s.state&&s.regNumber&&s.chassisNumber&&s.engineNumber&&s.vehicleType,2:s.name&&s.phone&&s.email&&s.address};return(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row min-h-screen",children:[(0,a.jsx)(b,{currentStep:e,stepsCompleted:u}),(0,a.jsxs)("div",{className:"flex-1 p-6",children:[1===e&&(0,a.jsx)(n,{data:s,updateData:i,next:m}),2===e&&(0,a.jsx)(d,{data:s,updateData:i,next:m,prev:c}),3===e&&(0,a.jsx)(o,{data:s,prev:c})]})]})}},6463:function(e,r,s){"use strict";var a=s(1169);s.o(a,"usePathname")&&s.d(r,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[699,505,706,240,321,971,23,744],function(){return e(e.s=7891)}),_N_E=e.O()}]);